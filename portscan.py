#Programa desenvolvido para escanear portas de redes e verificar possíveis aberturas
#É válido ressaltar que o tempo de resposta das portas de rede podem variar de acordo com o servidor escaneado, velocidade da rede, protocolos de verificação e etc. Por isso é importante alterar se necessário o valor dentro do método settimeout


import socket #importa comandos de conexoes

cliente = socket.socket(socket.AF_INET, socket.SOCK_STREAM) #cria objeto baseado no protocolo, o objeto realizara as conexoes
Site = input("Digite o nome do site")
numero = int(input("Digite a Quantidade de portas: "))
Porta = []
j = 0
i= 0

while j < numero:
	ports = int(input("Digite o numero da porta "))
	Porta.append(ports)
	j+=1

print (Porta)

while i < numero:
	cliente.settimeout(0.1)	
	codigo = cliente.connect_ex((Site, Porta[i]))
	if codigo ==0: 
		print (Porta[i], "OPEN")
	else:
		print ("CLOSED")

	print (i)
	i+=1
